
\rSec0[intro]{General}

@@@ Michael Wong to fill in and update.

\rSec1[general.scope]{Scope}
\pnum
This Technical Specification describes requirements for implementations of an interface that computer programs written in the C++ programming language may use to invoke algorithms with concurrent execution. The algorithms described by this Technical Specification are realizable across a broad class of computer architectures.

\pnum
This Technical Specification is non-normative. Some of the functionality described by this Technical Specification may be considered for standardization in a future version of C++, but it is not currently part of any C++ standard. Some of the functionality in this Technical Specification may never be standardized, and other functionality may be standardized in a substantially changed form.

\pnum
The goal of this Technical Specification is to build widespread existing practice for concurrency in the C++ standard algorithms library. It gives advice on extensions to those vendors who wish to provide them.

\rSec1[general.refs]{Normative References}
\pnum

The following referenced document is indispensable for the application of this document. For dated references, only the edition cited applies. For undated references, the latest edition of the referenced document (including any amendments) applies.

ISO/IEC 14882:2020, Programming Languages — C++
\pnum

ISO/IEC 14882:2020 is herein called the C++ Standard. References to clauses within the C++ Standard are written as "C++20 §3.2". The library described in ISO/IEC 14882:2020 clauses 16–32 is herein called the C++ Standard Library.
\pnum

\begin{itemize}
%%\item {ISO/IEC 14882:2020, Programming Languages --- C++}
\item {\cppstddocno}, \doccite{Programming Languages --- C++}
\end{itemize}

Unless otherwise specified, the whole of the C++ Standard's Library introduction (C++20 §16) is included into this Technical Specification by reference.


\rSec1[general.def]{Terms and definitions}
\pnum
\indextext{definitions|(}%
No terms and definitions are listed in this document. ISO and IEC maintain
terminological databases for use in standardization at the following addresses:

\begin{itemize}
    \item IEC Electropedia: available at https://www.electropedia.org/
    \item ISO Online browsing platform: available at https://www.iso.org/obp
\end{itemize}

\rSec1[general.compliance]{Implementation compliance}
\pnum
Conformance requirements for this document are those defined in {\cppstddocno}, \ref{general.compliance}. Similarly, all references to {\cppstddocno} in the resulting document shall be taken as referring to the resulting document itself.
\begin{note}
Conformance is defined in terms of the behavior of programs.
\end{note}


\rSec1[general.namespaces]{Namespaces and headers and modifications to standard classes}
\pnum
Since the extensions described in this technical specification are experimental and not part of the C++ standard library, they should not be declared directly within namespace std. Unless otherwise specified, all components described in this technical specification either:

\begin{itemize}
    \item modify an existing interface in the C++ Standard Library in-place,
    \item are declared in a namespace whose name appends \tcode{::experimental::concurrency\_v2} to a namespace defined in the C++ Standard Library, such as \tcode{std}, or
    \item are declared in a subnamespace of a namespace described in the previous bullet, whose name is not the same as an existing subnamespace of namespace \tcode{std}.
\end{itemize}

\pnum
Whenever a name \tcode{x} declared in a subclause at namespace scope
is mentioned, the name \tcode{x} is assumed to be fully qualified as
\tcode{::std::experimental::concurrency::v1::x}, unless otherwise specified.
The header described in this document (see Table~\ref{tab:info.headers})
shall import the contents of \tcode{::std::experimental::concurrency::v1} into
\tcode{::std::experimental::reflect} as if by:

\begin{codeblock}
namespace std::experimental::concurrency {
  inline namespace v2 {}
}
\end{codeblock}

\pnum
Whenever a name \tcode{x} declared in the standard library at namespace scope is
mentioned, the name \tcode{x} is assumed to be fully qualified as
\tcode{::std::x}, unless otherwise specified.

\begin{floattable}{Concurrency\_v2 library headers}{tab:info.headers}
{l}
\topline
\tcode{<experimental/concurrency\_v2>} \\
\end{floattable}

\rSec1[general.feature.test]{Feature-testing recommendations (Informative)}
\pnum
An implementation that provides support for this document shall define each feature test macro defined in \tref{intro.features} if no associated headers are indicated for that macro, and if associated headers are indicated for a macro, that macro is defined after inclusion of one of the corresponding headers specified in the table.

\begin{floattable}{Feature-test macros}{tab:intro.features}
{lll}
\topline
\lhdr{Macro name} & \chdr{Value} & \rhdr{Header} \\
\capsep
\tcode{__cpp_concurrency\_v2}  & \tcode{\tsver}   &  none \\
\tcode{__cpp_lib_concurrency\_v2}  & \tcode{\tsver}  & \tcode{<experimental/concurrency\_v2>} \\
\end{floattable}
\rSec1[general.plans]{Future plans (Informative)}

\rSec1[general.ack]{Acknowledgments}

This work is the result of a collaboration of researchers in industry and academia. We wish to thank the
original authors of this TS, Michael Wong, Paul McKenney, and Maged Michael. We also wish to thank people
who made valuable contributions within and outside these groups, including Jens Maurer, and many others not named
here who contributed to the discussion.




